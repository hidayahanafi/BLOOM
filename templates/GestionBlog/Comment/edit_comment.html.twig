{% extends 'base.html.twig' %}

{% block content %}
<div class="container py-5">
    <h2>Edit Comment</h2>

    {{ form_start(form, {'attr': { novalidate: 'novalidate'}}) }}
        <div class="form-group">
            {{ form_label(form.comm_content) }}
            {{ form_widget(form.comm_content, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.comm_content) }}
        </div>

        {# Show AI evaluation results #}
        <div class="mt-3">
            <p><strong>Current Evaluation:</strong></p>
            <p>
                <span class="badge bg-info">Positivity: {{ comment.evaluationScore }}%</span>
                <span class="badge bg-danger">{{ comment.isBlocked ? 'Blocked (Toxic)' : 'Approved' }}</span>
            </p>
        </div>

        <div class="d-grid gap-2 mt-3">
            <button type="submit" class="btn btn-primary btn-lg">Update Comment</button>
            <a href="{{ path('view_post', {'id': comment.post.id}) }}" class="btn btn-secondary btn-lg">Cancel</a>
        </div>
    {{ form_end(form) }}
</div>
{% endblock %}
